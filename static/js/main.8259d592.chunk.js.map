{"version":3,"sources":["utils/api.js","styles/LanguageSelector.module.css","components/DelegatedTransferForm.js","utils/sig2vrs.js","utils/hexToEvenLengthHex.js","assets/img/trust_wallet_icon_square.png","components/LanguageSelector.js","components/DoubleBorderTitle.js","utils/numUtils.js","components/merchant/MerchantBalances.js","components/QrcodeImg.js","components/merchant/MerchantReceiveToken.js","components/merchant/MerchantApp.js","utils/getWeb3.js","components/Balances.js","components/ReceiveToken.js","App.js","serviceWorker.js","index.js","components/Spinner.js","utils/BigNumber.js","components/AddressName.js","utils/checkIsMerchant.js","styles/Spinner.module.css","styles/DoubleBorderTitle.module.css","assets/img/selftoken_transparent_crop.png","components/PleaseOpenInDappBrowser.js"],"names":["axios__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","api","url","data","succeed","failed","axios","post","then","result","code","alert","message","catch","error","module","exports","lang-select","hexStrToBuffer","hexStr","Buffer","from","ethUtil","stripHexPrefix","bufferToHexStr","buffer","toString","isSameAddress","address1","address2","toLowerCase","speed_mappings","fast","f","average","a","normal","safeLow","slow","s","mapSpeed","str","defaultIsSpeedFast","isSpeedFastToSpeed","isSpeedFast","defaultSpeed","defaultC2BSpeed","speedConfigs","fee","watingTime","getSpeedConfig","speed","hasOwnProperty","api_base_url","local_api_base_url","server_wallet_api_path","delegatedTransfer_api_path","DelegatedTransferForm","state","delegate","recipient","amount","orderId","isUsingLocalServer","server_wallet_address_api_url","delegatedTransfer_api_url","isShowingSpinner","prevQueries","componentDidMount","_callee","_Users_Roger_projects_SelfToken_dev_dapps_self_pay_client_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","wrap","_context","prev","next","_this","props","web3","abrupt","console","log","parseQuery","window","location","hostname","setState","stop","this","componentWillReceiveProps","nextProps","search","queryString","queries","qs","parse","ignoreQueryPrefix","newState","to","utils","isAddress","warn","self","parseFloat","isNaN","handleAmountChange","value","handleRecipientChange","event","target","trim","handleOrderIdChange","handleSpeedSwitchChange","handleDelegatedTransferFormSubmit","_callee2","_this$props","accounts","delegatedTransferOperator","networkId","strings","selfBalanceBN","callback","_this$state","amountWeiBN","feeWeiBN","used_speed","_operator","_to","_delegate","_value","_fee","_nonce","_userDataNumber","_userData","delegationHash","_signature","_vrs","_int_v","prefixedDelegationHash","recoveredAddressFromNotPrefixedHash","recoveredAddressFromPrefixedHash","isRecoveredWithoutPrefix","isRecoveredWithPrefix","isCorrectlyRecovered","_signedWithPrefix","tx_data","params","transfer_from","post_data","_context2","preventDefault","length","msg_no_account","msg_please_unlock","BigNumber","times","checkIsMerchant","msg_invalid_recipient_address","msg_recipient_can_not_be_zero","plus","isGreaterThan","msg_not_enough_self","eq","msg_self_amount_can_not_be_zero","_address","Math","floor","Date","now","hexToEvenLengthHex","numberToHex","soliditySha3","t","v","eth","sign","sent","sig2vrs","parseInt","toHex","Error","pubToAddress","ecrecover","r","methods","transferPreSigned","encodeABI","_sig_r","_sig_s","_sig_v","order","msg_transaction_submitted","Transaction_Number","_id","msg_tx_failed","msg_possible_cause","msg_error_in_server","msg_please_contact_us_and_let_us_help_you","_this$props2","_this$state2","react__WEBPACK_IMPORTED_MODULE_7___default","createElement","className","components_PleaseOpenInDappBrowser_js__WEBPACK_IMPORTED_MODULE_17__","isTokenNotEnough","isAddressInvalid","components_Spinner_js__WEBPACK_IMPORTED_MODULE_18__","onSubmit","id","htmlFor","Recipient_Wallet_Address","type","onChange","placeholder","components_AddressName_js__WEBPACK_IMPORTED_MODULE_19__","address","Transfer_Amount","EN_SELF","react_numeric_input__WEBPACK_IMPORTED_MODULE_8___default","pattern","mobile","min","step","Speed","style","width","Normal","react_switch__WEBPACK_IMPORTED_MODULE_11___default","onClick","checked","onColor","uncheckedIcon","checkedIcon","height","Fast","Average_Wating_Time","Transaction_Fee","Transfer","Component","defaultProps","sig","stripped_sig","slice","stripped","LanguageSelector","selectedLangCode","cookies","Cookies","regenerator_default","initLang","isValidLangCode","langCode","localesData","selectedLangCodeInCookies","browserLangCode","get","navigator","languages","language","userLanguage","substring","setLangCode","handleLangChange","set","path","react_default","styles","DoubleBorderTitle","paddingType","children","paddingClass","narrowPadding","normalPadding","doubleBorder","doubleBorderTitle","join","weiToEtherStr","wei","div","weiToRoundedEtherStr","dp","arguments","undefined","toFixed","MerchantBalances","selfBalanceStr","src","selftokenIconCrop","alt","QrcodeImg","qrcodeImgData","updateQrcodeImg","QRCode","toDataURL","text","margin","MerchantReceiveToken","baseUrl","isAmountChecked","isShowingPayWithDappBrowserModal","isShowingPayWithAnyWalletModal","origin","handleInputChange","name","Object","defineProperty","computeUrl","showPayWithDappBrowserModal","showPayWithAnyWalletModal","closeModals","selfDappUrl","Fragment","Modal","show","onHide","centered","Header","padding","closeButton","Body","Pay_with_DApp_Browser","msg_please_scan_with_any_qr_code_scanner_1","msg_please_scan_with_any_qr_code_scanner_2","components_QrcodeImg","msg_supported_dapp_browsers_1","msg_supported_dapp_browsers_2","Pay_with_Any_Wallet","msg_please_send_self_1","msg_please_send_self_2","Receive_Amount","react_numeric_input_default","Payment_Method","DApp_Browser","Any_Wallet","LocalizedStrings","MerchantApp","selfTokenContract","isMerchantAddress","isShowingBalances","accountState","ethBalanceBN","isAllDataFetched","pollIntervalId","provider","match","Web3","providers","HttpProvider","Contract","SelfTokenJSON","abi","networks","setInterval","poll","t0","componentWillUnmount","clearInterval","fetchAccountState","_callee3","getEthBalance","getSelfBalance","values","ethBalanceStr","_context3","getBalance","balanceOf","call","Promise","all","assign","setLanguage","toggleBalances","content","components_DoubleBorderTitle","Store","AddressName","merchant_MerchantBalances","Receive_SELF","merchant_MerchantReceiveToken","Orders","index_min_default","position","Invalid_Merchant_Address","Spinner","navbar","components_LanguageSelector","getWeb3","resolve","reject","addEventListener","asyncToGenerator","mark","_web","ethereum","enable","currentProvider","Balances","roundedEthBalanceStr","roundedSelfBalanceStr","title","concat","EN_ETH","ReceiveToken","isUrlCopiedMsgShown","isAddressCopiedMsgShown","handleCopyUrl","copy","setTimeout","handleCopyAddress","My_Wallet_Address","The_Payer_Pay_with_SELF_DAPP","Copy_URL","msg_copied","The_Payer_Pay_with_Any_Wallet","Copy_Address","generateDeepLinkToTrustWallet","encodeURIComponent","href","TabButton","isActive","App","globalState","totalSupplyBN","deepLinkToTrustWallet","isValidNetwork","net","getId","DelegatedTransferOperatorJSON","fetchGlobalState","getAccounts","totalSupplyStr","totalSupply","_callee4","_context4","copyUrl","PleaseOpenInDappBrowser","msg_if_trust_wallet_installed","rel","trustWalletIconSquare","msg_open_in_trust_wallet","msg_if_other_dapp_browser","msg_copy_url","msg_and_paste_in_other_dapp_browser","msg_invalid_network","msg_please_switch_to_mainnet","msg_on_testnet","components_Balances","Link","Switch","Route","exact","render","App_TabButton","Transfer_SELF","key","components_ReceiveToken","Boolean","startsWith","logger","document","cssText","body","appendChild","_len","messages","Array","_key","_i","innerHTML","JSON","stringify","ReactDOM","HashRouter","component","getElementById","serviceWorker","ready","registration","unregister","react__WEBPACK_IMPORTED_MODULE_5___default","spinner","SpinnerCover","bignumber_js__WEBPACK_IMPORTED_MODULE_0__","config","FORMAT","prefix","decimalSeparator","groupSeparator","groupSize","secondaryGroupSize","fractionGroupSeparator","fractionGroupSize","suffix","EXPONENTIAL_AT","merchants","img","data_merchants_json__WEBPACK_IMPORTED_MODULE_0__","spinner-cover-container","spinner-cover-background","msg_please_open_in_dapp_browser_1","EN_Trust_Wallet","msg_please_open_in_dapp_browser_2","EN_MetaMask","msg_please_open_in_dapp_browser_3"],"mappings":"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","file":"static/js/main.8259d592.chunk.js","sourcesContent":["import axios from 'axios';\n\nfunction api(url, data, succeed, failed) {\n    axios.post(url, data).then(function (result) {\n        if (result.data.code === 0) return succeed? succeed(result.data.data): true;\n        if (failed) return failed(result);\n        alert(result.data.message);\n        return false;\n    }).catch(function (error) {\n        if (failed) return failed(error);\n        alert(error);\n        return false;\n    });\n}\n\n// function get(key, value) {\n//     if (!localStorage[key]) localStorage[key] = JSON.stringify(value);\n//     return JSON.parse(localStorage[key]);\n// }\n\n// function set(key, value) {\n//     localStorage[key] = JSON.stringify(value);\n// }\n\n// function dict(arr, key = '_id') {\n//     var o = {};\n//     for (var i in arr) o[arr[i][key]] = arr[i];\n//     return o;\n// }\n\nexport default api;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lang-select\":\"LanguageSelector_lang-select__4FR-B\"};","import React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport NumericInput from 'react-numeric-input';\nimport ethUtil from 'ethereumjs-util';\nimport qs from 'qs';\nimport Switch from \"react-switch\";\n\nimport BigNumber from 'utils/BigNumber';\nimport sig2vrs from \"utils/sig2vrs\";\nimport api from \"utils/api\";\nimport hexToEvenLengthHex from \"utils/hexToEvenLengthHex\";\nimport checkIsMerchant from \"utils/checkIsMerchant\";\n\nimport PleaseOpenInDappBrowser from \"components/PleaseOpenInDappBrowser.js\";\nimport { SpinnerCover } from \"components/Spinner.js\";\nimport AddressName from 'components/AddressName.js';\n\n// import styles from \"../styles/DelegatedTransferForm.module.css\";\n\n\nconst hexStrToBuffer = (hexStr) => {\n  return Buffer.from(ethUtil.stripHexPrefix(hexStr), 'hex');\n};\n\nconst bufferToHexStr = (buffer) => {\n  return '0x' + buffer.toString('hex');\n};\n\nconst isSameAddress = (address1, address2) => {\n  return address1.toLowerCase() === address2.toLowerCase();\n};\n\n// const valid_speeds = new Set(['fast', 'average', 'safeLow']);\nconst speed_mappings = {\n  'fast':     'fast',\n  'f':        'fast',\n  'average':  'average',\n  'a':        'average',\n  'normal':   'average',\n  'n':        'average',\n  'safeLow':  'safeLow',\n  'slow':     'safeLow',\n  's':        'safeLow',\n};\nconst mapSpeed = (str) => speed_mappings[str];\nconst defaultIsSpeedFast = false;\nconst isSpeedFastToSpeed = (isSpeedFast) => {\n  return (isSpeedFast) ? 'fast' : 'safeLow';\n}\nconst defaultSpeed = isSpeedFastToSpeed(defaultIsSpeedFast);\nconst defaultC2BSpeed = 'average';\n\nconst speedConfigs = {\n  'fast': {\n    'fee': 2, // 1 SELF\n    'watingTime': 1, // minutes\n  },\n  'average': {\n    'fee': 1,\n    'watingTime': 3,\n  },\n  'safeLow': {\n    'fee': 0.5,\n    'watingTime': 5,\n  },\n};\nconst getSpeedConfig = (speed) => {\n  return (speedConfigs.hasOwnProperty(speed)) ? speedConfigs[speed] : speedConfigs[defaultSpeed];\n};\n\nconst api_base_url = \"https://api.selftoken.co\";\nconst local_api_base_url = \"http://localhost:8080\";\n// const local_api_base_url = \"https://testapi.selftoken.co\";\n\nconst server_wallet_api_path = \"/v1/getServerWalletAddress\";\nconst delegatedTransfer_api_path = \"/v1/delegatedTransfer\";\n\nclass DelegatedTransferForm extends Component {\n  state = {\n    delegate: \"0x548574d699FB59bdA110Cc25d9Eaf59D3Ae80E0e\", // \"0x0000000000000000000000000000000000000000\" if no specific delegate\n    recipient: \"\",\n    amount: 100, // SELF\n    orderId: null,\n    isUsingLocalServer: false, // only works on a client hosted by localhost\n    server_wallet_address_api_url: api_base_url + server_wallet_api_path,\n    delegatedTransfer_api_url: api_base_url + delegatedTransfer_api_path,\n    isShowingSpinner: false,\n    isSpeedFast: defaultIsSpeedFast,\n    speed: isSpeedFastToSpeed(defaultIsSpeedFast),\n    prevQueries: {},\n  };\n\n  componentDidMount = async () => {\n    const { web3 } = this.props;\n\n    if (!web3) {\n      return;\n    }\n\n    console.log(\"DelegatedTransferForm this.props\", this.props);\n\n    this.parseQuery(this.props);\n\n    // now only work on localhost\n    if (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\") {\n      if (this.state.isUsingLocalServer) {\n        await this.setState({\n          server_wallet_address_api_url: local_api_base_url + server_wallet_api_path,\n          delegatedTransfer_api_url: local_api_base_url + delegatedTransfer_api_path,\n        });\n      }\n    }\n    console.log(\"this.state.delegatedTransfer_api_url\", this.state.delegatedTransfer_api_url);\n\n    // get delegate address (= server wallet address)\n    api(this.state.server_wallet_address_api_url, {}, (data) => {\n      console.log(this.state.server_wallet_address_api_url, \"data\", data); // address string\n      this.setState({\n        delegate: data,\n      });\n    }, (error) => {\n      console.error(this.state.server_wallet_address_api_url, \"error\", error);\n    });\n  }\n\n  // // called when props or state changed\n  // componentWillUpdate = (prevProps) => {}\n\n  // called when props changed, not called when componentDidMount\n  componentWillReceiveProps = (nextProps) => {\n    this.parseQuery(nextProps);\n  }\n\n  parseQuery = (props) => {\n    if (!props.web3 || !props.location || !props.location.search) {\n      return;\n    }\n\n    const { web3 } = props;\n    const queryString = props.location.search;\n    const { prevQueries } = this.state;\n\n    const queries = qs.parse(queryString, { ignoreQueryPrefix: true });\n    console.log(\"queries\", queries);\n    let newState = {};\n\n    if (!!queries.to && queries.to !== prevQueries.to) {\n      if (queries.to !== prevQueries.to && web3.utils.isAddress(queries.to)) {\n        console.log(\"DelegatedTransferForm: query_to correctly parsed\");\n        newState.recipient = queries.to;\n      } else {\n        console.warn(\"DelegatedTransferForm: query_to is provided but not an address\");\n      }\n    }\n\n    if (!!queries.self && queries.self !== prevQueries.self) {\n      const amount = parseFloat(queries.self);\n      if (!isNaN(amount)) {\n        console.log(\"DelegatedTransferForm: self amount parsed, get\", amount);\n        newState.amount = amount;\n      } else {\n        console.warn(\"DelegatedTransferForm: queries.self is provided but parseFloat returns NaN.\");\n      }\n    }\n\n    if (!!queries.speed && queries.speed !== prevQueries.speed) {\n      const speed = mapSpeed(queries.speed);\n      if (!!speed && (speed !== prevQueries.speed)) {\n        newState.speed = speed;\n        console.log(\"DelegatedTransferForm: speed updated to\", speed);\n      } else {\n        console.warn(\"DelegatedTransferForm: query_speed is provided but invalid.\");\n      }\n    }\n\n    newState.prevQueries = queries;\n\n    if (!!newState) {\n      this.setState(newState);\n    }\n  }\n\n  handleAmountChange = (value) => {\n    this.setState({\n      amount: value,\n    });\n  }\n\n  handleRecipientChange = (event) => {\n    this.setState({\n      recipient: event.target.value.trim(),\n    });\n  }\n\n  handleOrderIdChange = (value) => {\n    this.setState({\n      orderId: value,\n    });\n  }\n\n  handleSpeedSwitchChange = (value) => {\n    const isSpeedFast = !this.state.isSpeedFast;\n    const speed = isSpeedFastToSpeed(isSpeedFast)\n\n    this.setState({\n      isSpeedFast,\n      speed,\n    });\n  }\n\n  handleDelegatedTransferFormSubmit = async (event) => {\n    event.preventDefault();\n\n    console.log(\"==== handleDelegatedTransferFormSubmit ====\");\n\n    const {\n      web3,\n      accounts,\n      delegatedTransferOperator,\n      networkId,\n      strings,\n      selfBalanceBN,\n      callback\n    } = this.props;\n\n    const {\n      recipient,\n      amount, // number\n      delegate,\n      delegatedTransfer_api_url,\n      orderId,\n      speed,\n    } = this.state;\n\n    if (accounts.length === 0) {\n      alert(strings.msg_no_account + \"\\n\" + strings.msg_please_unlock);\n      return;\n    }\n\n    const amountWeiBN = new BigNumber(amount).times(1e18);\n    let feeWeiBN = new BigNumber(getSpeedConfig(speed).fee).times(1e18);\n    let used_speed = speed;\n    if (checkIsMerchant(recipient)) {\n      feeWeiBN = new BigNumber(0);\n      used_speed = defaultC2BSpeed;\n    }\n\n    console.log(\"recipient\", recipient);\n    console.log(\"amount\", amount, typeof amount);\n    console.log(\"amountWeiBN\", amountWeiBN.toString());\n\n    // check address\n    if (!web3.utils.isAddress(recipient)) {\n      alert(strings.msg_invalid_recipient_address);\n      return;\n    }\n    if (recipient === \"0x0000000000000000000000000000000000000000\") {\n      alert(strings.msg_recipient_can_not_be_zero);\n      return;\n    }\n\n    // check balance enough\n    if (amountWeiBN.plus(feeWeiBN).isGreaterThan(selfBalanceBN)) {\n      alert(strings.msg_not_enough_self);\n      return;\n    }\n    if (amountWeiBN.eq(0)) {\n      alert(strings.msg_self_amount_can_not_be_zero);\n      return;\n    }\n\n    const _operator = delegatedTransferOperator._address;\n    const _to = recipient;\n    const _delegate = delegate;\n    const _value = amountWeiBN.toString();\n    const _fee = feeWeiBN.toString();\n    const _nonce = (Math.floor(Date.now() / 1000)).toString();\n    const _userDataNumber = orderId;\n    const _userData = (\n      (typeof _userDataNumber === \"number\") ?\n      hexToEvenLengthHex(web3.utils.numberToHex(_userDataNumber)) :\n      \"0x\"\n    );\n    console.log(\"_operator\", _operator);\n    console.log(\"_to\", _to);\n    console.log(\"_delegate\", _delegate);\n    console.log(\"_value\", _value);\n    console.log(\"_fee\", _fee);\n    console.log(\"_nonce\", _nonce);\n    console.log(\"_userData\", _userData);\n\n    // delegationHash is a 32-byte (\"0x\" + 64 chars) hex string.\n    const delegationHash = web3.utils.soliditySha3(\n      {t: \"address\", v: _operator},\n      {t: \"address\", v: _to},\n      {t: \"address\", v: _delegate},\n      {t: \"uint256\", v: _value},\n      {t: \"uint256\", v: _fee},\n      {t: \"uint256\", v: _nonce},\n      {t: \"bytes\", v: _userData},\n    );\n    console.log(\"delegationHash\", delegationHash);\n\n    // delegationSignature is a 65-byte (\"0x\" + 130 chars) hex string.\n    const _signature = await web3.eth.sign(delegationHash, accounts[0]);\n    const _vrs = sig2vrs(_signature);\n    const _int_v = parseInt(_vrs.v);\n    console.log(\"_signature\", _signature);\n    console.log(\"_vrs\", _vrs);\n\n    if (_int_v < 27) {\n      _vrs.v = web3.utils.toHex(_int_v + 27);\n    }\n    console.log(\"_vrs.v\", _vrs.v);\n\n    if (_int_v !== 27 && _int_v !== 28) {\n      throw new Error(\"_vrs.v not 27 or 28\");\n    }\n\n    const prefixedDelegationHash = web3.utils.soliditySha3(\n      { t: \"string\", v: \"\\x19Ethereum Signed Message:\\n32\" },\n      { t: \"bytes32\", v: delegationHash },\n    );\n\n    const recoveredAddressFromNotPrefixedHash = bufferToHexStr(\n      ethUtil.pubToAddress(\n        ethUtil.ecrecover(\n          hexStrToBuffer(delegationHash),\n          parseInt(_vrs.v),\n          _vrs.r,\n          _vrs.s,\n        )\n      )\n    );\n    const recoveredAddressFromPrefixedHash = bufferToHexStr(\n      ethUtil.pubToAddress(\n        ethUtil.ecrecover(\n          hexStrToBuffer(prefixedDelegationHash),\n          parseInt(_vrs.v),\n          _vrs.r,\n          _vrs.s,\n        )\n      )\n    );\n    console.log(\"recoveredAddressFromNotPrefixedHash\", recoveredAddressFromNotPrefixedHash);\n    console.log(\"recoveredAddressFromPrefixedHash\", recoveredAddressFromPrefixedHash);\n\n    const isRecoveredWithoutPrefix = isSameAddress(recoveredAddressFromNotPrefixedHash, accounts[0]);\n    const isRecoveredWithPrefix = isSameAddress(recoveredAddressFromPrefixedHash, accounts[0]);\n\n    const isCorrectlyRecovered = isRecoveredWithoutPrefix || isRecoveredWithPrefix;\n    console.log(\"isCorrectlyRecovered\", isCorrectlyRecovered);\n\n    if (!isCorrectlyRecovered) {\n      throw new Error(\"address is not correctly recovered from the signature\");\n    }\n\n    const _signedWithPrefix = isRecoveredWithPrefix;\n    console.log(\"_signedWithPrefix\", _signedWithPrefix);\n\n\n    const tx_data = delegatedTransferOperator.methods.transferPreSigned(\n      _to,\n      _delegate,\n      _value,\n      _fee,\n      _nonce,\n      _userData,\n      _signedWithPrefix,\n      // _signature\n      _vrs.r,\n      _vrs.s,\n      _vrs.v\n    // );\n    ).encodeABI();\n\n    const params = {\n      _to,\n      _delegate,\n      _value,\n      _fee,\n      _nonce,\n      _userData,\n      _signedWithPrefix,\n      _sig_r: _vrs.r,\n      _sig_s: _vrs.s,\n      _sig_v: _vrs.v,\n    };\n    const transfer_from = accounts[0];\n\n    const post_data = {\n      networkId,\n      tx_data,\n      params,\n      transfer_from,\n      speed: used_speed,\n    }\n    console.log(\"post_data\", post_data);\n\n    this.setState({\n      isShowingSpinner: true,\n    });\n    api(delegatedTransfer_api_url, post_data, (order) => {\n      // if transaction is broadcasted\n      // `data` is `order`\n      console.log(\"order\", order);\n      this.setState({\n        isShowingSpinner: false,\n      });\n      alert(\n        strings.msg_transaction_submitted + \"\\n\" +\n        strings.Transaction_Number + \": \" + order._id\n      );\n      callback();\n    }, (error) => {\n      // if failed\n      console.error(\"error\", error);\n      this.setState({\n        isShowingSpinner: false,\n      });\n      alert(\n        strings.msg_tx_failed + strings.msg_possible_cause + \"\\n\" +\n        \"1. \" + strings.msg_not_enough_self + \"\\n\" +\n        \"2. \" + strings.msg_error_in_server + \"\\n\" +\n        strings.msg_please_contact_us_and_let_us_help_you\n      );\n    });\n  }\n\n  render() {\n    const { web3, strings, selfBalanceBN } = this.props;\n    const { amount, recipient, isShowingSpinner, isSpeedFast, speed } = this.state;\n\n    if (!web3) {\n      return <div>\n        <div className=\"narrow-container mb-5\">\n          <div className=\"alert alert-danger\">\n            <PleaseOpenInDappBrowser\n              strings={ strings }\n            />\n          </div>\n        </div>\n      </div>;\n    }\n\n    const amountWeiBN = (new BigNumber(amount)).times(1e18);\n    const feeWeiBN = new BigNumber(getSpeedConfig(speed).fee).times(1e18);\n    const isTokenNotEnough = amountWeiBN.plus(feeWeiBN).isGreaterThan(selfBalanceBN);\n\n    const isAddressInvalid = !web3.utils.isAddress(recipient);\n\n    return (<div>\n      {\n        isShowingSpinner &&\n        <SpinnerCover/>\n      }\n      <form\n        onSubmit={this.handleDelegatedTransferFormSubmit}\n        id=\"transfer-form\"\n        className=\"transfer-form text-center\"\n      >\n        <div className=\"mb-4\">\n          <label htmlFor=\"delegatedTransferRecipientInput\">{ strings.Recipient_Wallet_Address }</label>\n          <input\n            type=\"text\"\n            className={\n              \"address-input address-text\" +\n              ( isAddressInvalid ? \" text-danger\" : \"\" )\n            }\n            id=\"delegatedTransferRecipientInput\"\n            value={ recipient }\n            onChange={ this.handleRecipientChange }\n            placeholder=\"0x0000000000000000000000000000000000000000\"\n          />\n          <AddressName address={ recipient } />\n        </div>\n\n        <div className=\"mb-4\">\n          <label htmlFor=\"transferAmount\">{ strings.Transfer_Amount } ({ strings.EN_SELF })</label>\n          <NumericInput\n            id=\"transferAmount\"\n            type=\"number\"\n            pattern=\"[\\d\\.]*\"\n            mobile\n            className={\n              \"numeric-input\" + ( isTokenNotEnough ? \" text-danger\" : \"\" )\n            }\n            min={0}\n            step={10}\n            value={this.state.amount}\n            onChange={this.handleAmountChange}\n          />\n        </div>\n\n        {/* <div className=\"mb-4\">\n          <label htmlFor=\"orderId\">Order ID</label>\n          <NumericInput\n            id=\"orderId\"\n            mobile\n            className=\"numeric-input\"\n            min={0}\n            step={1}\n            value={this.state.orderId}\n            onChange={this.handleOrderIdChange}\n          />\n        </div> */}\n\n        {\n          !checkIsMerchant(recipient) &&\n          <div>\n            <div className=\"mb-4\">\n              <label>{ strings.Speed }</label>\n              <div>\n                <span\n                  className={ \"align-middle mr-2 text-right d-inline-block \" +\n                    (isSpeedFast ? 'text-muted' : 'text-white')\n                  }\n                  style={{ width: \"4rem\" }}\n                >\n                  { strings.Normal }\n                </span>\n                <Switch\n                  id=\"speed-switch\"\n                  onChange={this.handleSpeedSwitchChange}\n                  onClick={this.handleSpeedSwitchChange}\n                  checked={ isSpeedFast }\n                  onColor=\"#d6a838\"\n                  uncheckedIcon={ false }\n                  checkedIcon={ false }\n                  height={ 24 }\n                  width={ 48 }\n                  className=\"align-middle\"\n                />\n                <span\n                  className={ \"align-middle ml-2 text-left d-inline-block \" +\n                    (isSpeedFast ? 'text-white' : 'text-muted')\n                  }\n                  style={{ width: \"4rem\" }}\n                >\n                  { strings.Fast }\n                </span>\n              </div>\n            </div>\n\n            <div className=\"mb-4\">\n              <div className=\"transfer-info-container\">\n                <div className=\"clearfix font-weight-bold mb-1\">\n                  <span className=\"float-left\">{ strings.Average_Wating_Time }</span>\n                  <span className=\"float-right text-white\">{ getSpeedConfig(speed).watingTime } min</span>\n                </div>\n                <div className=\"clearfix font-weight-bold\">\n                  <span className=\"float-left \">{ strings.Transaction_Fee }</span>\n                  <span className=\"float-right text-white\">{ getSpeedConfig(speed).fee } SELF</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        }\n\n        <div>\n          <button type=\"submit\" className=\"solid-rectangle-button bg-golden\">\n            <span>{ strings.Transfer }</span>\n          </button>\n        </div>\n      </form>\n    </div>);\n  }\n}\n\nDelegatedTransferForm.propTypes = {\n  web3: PropTypes.object,\n  accounts: PropTypes.array,\n  delegatedTransferOperator: PropTypes.object,\n  networkId: PropTypes.number,\n  strings: PropTypes.object,\n  selfBalanceBN: PropTypes.object,\n  location: PropTypes.object,\n  callback: PropTypes.func,\n};\n\nDelegatedTransferForm.defaultProps = {\n  web3: {},\n  accounts: [],\n  delegatedTransferOperator: {},\n  networkId: 1,\n  strings: {},\n  selfBalanceBN: new BigNumber(),\n  location: {},\n  callback: () => {},\n};\n\nexport default DelegatedTransferForm;\n","// return vrs object\n// v: hex string\n// r: hex string\n// s: hex string\nconst sig2vrs = (sig) => {\n  if (typeof sig !== 'string') {\n    throw new Error(\"in sig2vrs, signature must be type 'string', is currently type \" + (typeof sig) + \".\");\n  }\n\n  const stripped_sig = (sig.slice(0, 2) === '0x') ? sig.slice(2) : sig;\n\n  if (stripped_sig.length !== 130) {\n    throw new Error(\"sig length not 130 or 132 in sig2vrs\");\n  }\n\n  const vrs = {\n    v: \"0x\" + stripped_sig.slice(128, 130),\n    r: \"0x\" + stripped_sig.slice(0, 64),\n    s: \"0x\" + stripped_sig.slice(64, 128),\n  }\n\n  return vrs;\n};\n\nexport default sig2vrs;\n","\nconst hexToEvenLengthHex = (hexStr) => {\n  if (typeof hexStr !== 'string') {\n    throw new Error(\"Error in hexToEvenLengthHex, hexStr must be type 'string', is currently type \" + (typeof hexStr) + \".\");\n  }\n\n  const stripped = (hexStr.slice(0, 2) === '0x') ? hexStr.slice(2) : hexStr;\n  return (stripped.length % 2 === 0) ? ('0x' + stripped) : ('0x0' + stripped);\n};\n\nexport default hexToEvenLengthHex;\n","module.exports = \"data:image/png;base64,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\"","import React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport Cookies from 'universal-cookie';\n\nimport localesData from 'data/locales.json';\n\nimport styles from \"styles/LanguageSelector.module.css\";\n\nclass LanguageSelector extends Component {\n  state = {\n    selectedLangCode: \"zh-TW\",\n    cookies: new Cookies(),\n  }\n\n  componentDidMount = async () => {\n    this.initLang();\n  }\n\n  isValidLangCode = langCode => {\n    return localesData.hasOwnProperty(langCode);\n  }\n\n  initLang = async () => {\n    const cookies = new Cookies();\n\n    // Load selectedLangCode from cookies\n    const selectedLangCodeInCookies = cookies.get('selectedLangCode'); // undefined if blank\n    let selectedLangCode = \"zh-TW\";\n    if (this.isValidLangCode(selectedLangCodeInCookies)) {\n      selectedLangCode = selectedLangCodeInCookies;\n      console.log(\"load language from cookies\", selectedLangCode);\n    } else {\n      // Get browser language.\n      const browserLangCode = (navigator.languages && navigator.languages[0]) ||\n      navigator.language ||\n      navigator.userLanguage;\n      console.log(\"browser language\", browserLangCode);\n\n      if (browserLangCode.substring(0, 2) === \"en\") {\n        selectedLangCode = \"en\";\n      } else if (browserLangCode === \"zh\" || browserLangCode === \"zh-TW\" || browserLangCode === \"zh-HK\") {\n        selectedLangCode = \"zh-TW\";\n      } else if (browserLangCode.substring(0, 2) === \"zh\") {\n        selectedLangCode = \"zh-CN\";\n      } else {\n        selectedLangCode = \"zh-TW\";\n      }\n      this.setState({\n        selectedLangCode: selectedLangCode,\n      })\n      console.log(\"load language from browser\", selectedLangCode);\n    }\n\n    this.setLangCode(selectedLangCode);\n    return selectedLangCode;\n  }\n\n  handleLangChange = (event) => {\n    this.setLangCode(event.target.value);\n  }\n\n  setLangCode = (langCode) => {\n    this.state.cookies.set('selectedLangCode', langCode, { path: '/' });\n    this.setState({ selectedLangCode: langCode });\n    this.props.setLangCode(langCode);\n  }\n\n  render() {\n    return (\n      <div>\n        <label htmlFor=\"lang-select\"><i className=\"fas fa-globe-americas\"></i></label>\n        <select className={ styles[\"lang-select\"] } value={this.state.selectedLangCode} onChange={this.handleLangChange}>\n          <option value=\"zh-TW\"></option>\n          <option value=\"zh-CN\"></option>\n          <option value=\"en\">ENGLISH</option>\n        </select>\n      </div>\n    );\n  }\n}\n\nLanguageSelector.propTypes = {\n  setLangCode: PropTypes.func,\n};\n\nLanguageSelector.defaultProps = {\n  setLangCode: () => {},\n};\n\nexport default LanguageSelector;\n","import React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\n\nimport styles from \"styles/DoubleBorderTitle.module.css\";\n\nclass DoubleBorderTitle extends Component {\n  render() {\n    const { className, paddingType, children } = this.props;\n\n    const paddingClass = (paddingType === 'narrow') ? styles.narrowPadding : styles.normalPadding;\n\n    return (\n      <div className={ className }>\n        <span className={[\"font-weight-bold\", styles.doubleBorder, styles.doubleBorderTitle, paddingClass].join(' ')}>\n          { children }\n          <span></span>\n          <span></span>\n          <span></span>\n          <span></span>\n        </span>\n      </div>\n    );\n  }\n}\n\nDoubleBorderTitle.propTypes = {\n  className: PropTypes.string,\n  paddingType: PropTypes.string,\n  // title: PropTypes.string,\n};\n\nDoubleBorderTitle.defaultProps = {\n  className: \"mb-3\",\n  paddingType: \"normal\",\n  // title: \"\",\n};\n\nexport default DoubleBorderTitle;\n","import BigNumber from 'utils/BigNumber';\n\n\nexport const weiToEtherStr = (wei) => {\n  // wei: BigNumber, BN, string\n  return new BigNumber(wei.toString()).div(1e18).toString();\n};\n\nexport const weiToRoundedEtherStr = (wei, dp=4) => {\n  // wei: BigNumber, BN, string\n  // dp (decimal place): number\n  // return string\n  return new BigNumber( new BigNumber(wei.toString()).div(1e18).toFixed(dp) ).toString();\n};\n\nexport const ether = (num) => {\n  // num: number / string\n  // return BigNumber\n  return new BigNumber(num).times(1e18);\n}\n\nexport const fractionToPercentageStr = (fraction) => {\n  // fraction: BigNumber\n  return `${(new BigNumber(100)).div(fraction).toString()}%`;\n};\n","import React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport BigNumber from 'utils/BigNumber';\nimport { weiToRoundedEtherStr } from 'utils/numUtils';\n\nimport selftokenIconCrop from \"assets/img/selftoken_transparent_crop.png\";\n\n\nclass MerchantBalances extends Component {\n  render() {\n    const { strings, /* ethBalanceBN, */selfBalanceBN } = this.props;\n\n    const selfBalanceStr = weiToRoundedEtherStr(selfBalanceBN, 2);\n\n    // icon floats left and text floats right when screen width <= 767px\n    // icon and text in the same line when screen width >= 768px\n    return (\n      <div className=\"row\">\n        <div className=\"col-12 text-center mb-2\">\n          <div className=\"h4 balance-container\">\n            <span className=\"h3 mb-0 mr-3 balance-icon-container\">\n              <img\n                src={selftokenIconCrop}\n                alt=\"self-token-icon\"\n                style={{height: \"1em\"}}\n              />\n            </span>\n            <span className=\"balance-text-container\">{ selfBalanceStr } { strings.EN_SELF }</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nMerchantBalances.propTypes = {\n  strings: PropTypes.object,\n  selfBalanceBN: PropTypes.object,\n};\n\nMerchantBalances.defaultProps = {\n  strings: {},\n  selfBalanceBN: new BigNumber(0),\n};\n\nexport default MerchantBalances;\n","import React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport QRCode from 'qrcode';\n\nclass QrcodeImg extends Component {\n  state = {\n    qrcodeImgData: \"\",\n  }\n\n  componentDidMount() {\n    this.updateQrcodeImg(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.updateQrcodeImg(nextProps);\n  }\n\n  updateQrcodeImg = async (nextProps) => {\n    const qrcodeImgData = await QRCode.toDataURL(nextProps.text, {\n      width: nextProps.width,\n      margin: nextProps.margin,\n    });\n    this.setState({\n      qrcodeImgData,\n    });\n  };\n\n  render() {\n    const { qrcodeImgData } = this.state;\n    console.log(\"QrcodeImg render\");\n\n    return <img src={ qrcodeImgData } alt=\"qrcode\" />\n  }\n}\n\nQrcodeImg.propTypes = {\n  text: PropTypes.string,\n  width: PropTypes.number,\n  margin: PropTypes.number,\n};\n\nQrcodeImg.defaultProps = {\n  text: \"\",\n  width: 256,\n  margin: 2,\n};\n\nexport default QrcodeImg;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport NumericInput from 'react-numeric-input';\n// import Modal from 'react-modal';\nimport { Modal } from 'react-bootstrap';\n\nimport QrcodeImg from 'components/QrcodeImg.js';\n\n\nclass MerchantReceiveToken extends Component {\n  state = {\n    baseUrl: \"https://dapp.selftoken.co/#/\",\n    isAmountChecked: true,\n    amount: 100, // SELF\n    isShowingPayWithDappBrowserModal: false,\n    isShowingPayWithAnyWalletModal: false,\n  }\n\n  componentDidMount = () => {\n    const baseUrl = window.location.origin + \"/#/\";\n    this.setState({\n      baseUrl\n    });\n  }\n\n  handleInputChange = (event) => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleAmountChange = (value) => {\n    this.setState({\n      amount: value,\n    });\n  }\n\n  computeUrl = () => {\n    const { accounts } = this.props;\n\n    if (accounts.length === 0) {\n      return \"\";\n    }\n\n    const { baseUrl, isAmountChecked, amount } = this.state;\n\n    return baseUrl + \"transfer?\"\n    + \"to=\" + accounts[0]\n    + ( (isAmountChecked && !!amount) ? (\"&self=\" + amount.toString()) : \"\" );\n  }\n\n  showPayWithDappBrowserModal = () => {\n    this.setState({\n      isShowingPayWithDappBrowserModal: true,\n      isShowingPayWithAnyWalletModal: false,\n    });\n  }\n\n  showPayWithAnyWalletModal = () => {\n    this.setState({\n      isShowingPayWithDappBrowserModal: false,\n      isShowingPayWithAnyWalletModal: true,\n    });\n  }\n\n  closeModals = () => {\n    this.setState({\n      isShowingPayWithDappBrowserModal: false,\n      isShowingPayWithAnyWalletModal: false,\n    });\n  }\n\n  render() {\n    const { strings, accounts } = this.props;\n\n    if (accounts.length === 0) {\n      return <div>\n        <div className=\"alert alert-danger\">{ strings.msg_no_account }</div>\n      </div>;\n    }\n\n    const { isAmountChecked, amount } = this.state;\n    const selfDappUrl = this.computeUrl();\n\n    return (\n      <>\n        {/* PayWithDappBrowserModal */}\n        <Modal\n          show={this.state.isShowingPayWithDappBrowserModal}\n          onHide={this.closeModals}\n          centered={ true }\n        >\n          <Modal.Header style={{ padding: \"0.5rem\" }} closeButton>\n          </Modal.Header>\n          <Modal.Body style={{padding: \"0 1rem\"}}>\n            <div className=\"text-center\">\n              <div className=\"h4 mb-3\">{ strings.Pay_with_DApp_Browser }</div>\n\n              <div className=\"mb-1\">\n                <div>{ strings.msg_please_scan_with_any_qr_code_scanner_1 }</div>\n                <div>{ strings.msg_please_scan_with_any_qr_code_scanner_2 }</div>\n              </div>\n\n              <div className=\"mb-1\">\n                <QrcodeImg text={ selfDappUrl } width={ 320 } margin={ 2 } />\n              </div>\n\n              {/* <div className=\"mb-1 font-condensed word-wrap-break-word text-white\">{ selfDappUrl }</div> */}\n\n              <div className=\"mb-1 text-additional\">\n                <div>{ strings.msg_supported_dapp_browsers_1 }</div>\n                <div>{ strings.msg_supported_dapp_browsers_2 }</div>\n              </div>\n            </div>\n            <div className=\"text-right mt-3 mb-3\">\n              <span className=\"clickable\" onClick={ this.showPayWithAnyWalletModal }>{ strings.Pay_with_Any_Wallet + \" \" }</span>\n            </div>\n          </Modal.Body>\n        </Modal>\n\n        {/* PayWithAnyWalletModal */}\n        <Modal\n          show={this.state.isShowingPayWithAnyWalletModal}\n          onHide={this.closeModals}\n          centered\n        >\n          <Modal.Header style={{ padding: \"0.5rem\" }} closeButton>\n          </Modal.Header>\n          <Modal.Body style={{ padding: \"0 1rem\" }}>\n            <div className=\"text-center\">\n              <div className=\"h4 mb-3\">{ strings.Pay_with_Any_Wallet }</div>\n\n              <div className=\"mb-1\">\n                <div>\n                  <span>{ strings.msg_please_send_self_1 }</span>\n                  <span className=\"text-white\"> { isAmountChecked ? amount : '' } SELF </span>\n                  <span>{ strings.msg_please_send_self_2 }</span>\n                </div>\n              </div>\n\n              <div className=\"mb-1\">\n                <QrcodeImg text={ accounts[0] } width={ 320 } margin={ 2 } />\n              </div>\n\n              <div className=\"mb-1 font-condensed word-wrap-break-word text-white\">{ accounts[0] }</div>\n            </div>\n            <div className=\"text-left mt-3 mb-3\">\n              <span className=\"clickable\" onClick={ this.showPayWithDappBrowserModal }>{ \" \" + strings.Pay_with_DApp_Browser }</span>\n            </div>\n          </Modal.Body>\n        </Modal>\n\n        <div className=\"text-center\">\n          <div className=\"mb-3\">\n            {/* <label>\n              { strings.My_Wallet_Address }\n            </label>\n            <input\n              type=\"text\"\n              className=\"address-input text-muted\"\n              value={ accounts[0] }\n              onChange={ () => {} }\n            /> */}\n          </div>\n\n          <div className=\"mb-3\">\n            <input\n              type=\"checkbox\"\n              name=\"isAmountChecked\"\n              checked={ isAmountChecked }\n              onChange={ this.handleInputChange }\n              className=\"form-check-input\"\n            />\n            <label htmlFor=\"amountCheckbox\">\n              { strings.Receive_Amount } ({ strings.EN_SELF })\n            </label>\n            { isAmountChecked &&\n              <NumericInput\n                id=\"receiveAmountInput\"\n                type=\"number\"\n                pattern=\"[\\d\\.]*\"\n                mobile\n                className=\"numeric-input\"\n                min={0}\n                step={100}\n                value={ amount }\n                onChange={this.handleAmountChange}\n              />\n            }\n          </div>\n\n          <div className=\"mb-3\">\n            <h6>{ strings.Payment_Method }</h6>\n            <button className=\"solid-rectangle-button bg-golden m-2\" onClick={ this.showPayWithDappBrowserModal }>{ strings.DApp_Browser }</button>\n            <button className=\"solid-rectangle-button bg-golden m-2\" onClick={ this.showPayWithAnyWalletModal }>{ strings.Any_Wallet }</button>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nMerchantReceiveToken.propTypes = {\n  accounts: PropTypes.array,\n  strings: PropTypes.object,\n};\n\nMerchantReceiveToken.defaultProps = {\n  accounts: [],\n  strings: {},\n};\n\nexport default MerchantReceiveToken;\n","import React, { Component } from \"react\";\n// import PropTypes from 'prop-types';\nimport LocalizedStrings from 'react-localization';\nimport Web3 from \"web3\";\nimport Iframe from 'react-iframe';\n\nimport checkIsMerchant from \"utils/checkIsMerchant\";\nimport BigNumber from 'utils/BigNumber';\n\nimport \"styles/AddressInput.css\";\nimport \"styles/NumericInput.css\";\nimport \"App.css\";\n\nimport SelfTokenJSON from \"contracts/SelfToken.json\";\nimport localesData from 'data/locales.json';\n\nimport { Spinner } from \"components/Spinner.js\";\nimport LanguageSelector from \"components/LanguageSelector.js\";\nimport DoubleBorderTitle from \"components/DoubleBorderTitle.js\";\nimport AddressName from 'components/AddressName.js';\nimport MerchantBalances from \"components/merchant/MerchantBalances.js\";\nimport MerchantReceiveToken from \"components/merchant/MerchantReceiveToken.js\";\n\n\nconst strings = new LocalizedStrings(localesData);\n\nclass MerchantApp extends Component {\n  state = {\n    web3: null,\n    // networkId: 1,\n    selfTokenContract: null,\n    address: '',\n    isMerchantAddress: false,\n    isShowingBalances: false,\n    accountState: {\n      ethBalanceBN: new BigNumber(0),\n      selfBalanceBN: new BigNumber(0),\n    },\n    isAllDataFetched: false,\n    pollIntervalId: -1,\n  };\n\n  componentDidMount = async () => {\n    try {\n      console.log(\"MerchantApp this.props\", this.props);\n\n      const address = this.props.match.params.address;\n      const isMerchantAddress = checkIsMerchant(address);\n      console.log(\"address\", address);\n      this.setState({\n        address,\n        isMerchantAddress,\n      });\n\n      if (isMerchantAddress) {\n        const provider = new Web3.providers.HttpProvider(\n          \"https://mainnet.infura.io\"\n        );\n        const web3 = new Web3(provider);\n\n        // Init contract instance.\n        const networkId = 1;\n        const selfTokenContract = new web3.eth.Contract(\n          SelfTokenJSON.abi,\n          SelfTokenJSON.networks[networkId].address\n        );\n        await this.setState({ web3, selfTokenContract });\n\n        const pollIntervalId = setInterval(() => {\n          this.poll();\n        }, 10000);\n        this.setState({ pollIntervalId });\n        await this.poll();\n      }\n\n      this.setState({\n        isAllDataFetched: true,\n      });\n    } catch (error) {\n      console.error('MerchantApp componentDidMount', error);\n      this.setState({\n        isAllDataFetched: true,\n      });\n    }\n  }\n\n  componentWillUnmount = () => {\n    const { pollIntervalId } = this.state;\n    if (pollIntervalId !== -1) {\n      clearInterval(pollIntervalId);\n    }\n  }\n\n  poll = async () => {\n    console.log(\"poll\");\n\n    this.fetchAccountState();\n  }\n\n  fetchAccountState = async () => {\n    console.log(\"fetchAccountState\");\n\n    const { web3, address, selfTokenContract } = this.state;\n\n    // If there are no accounts injected, return.\n    if (!address) {\n      return;\n    }\n\n    // promises\n    const getEthBalance = web3.eth.getBalance(address);\n    const getSelfBalance = selfTokenContract.methods.balanceOf(address).call();\n    const values = await Promise.all([getEthBalance, getSelfBalance]);\n    const ethBalanceStr = values[0];\n    const selfBalanceStr = values[1];\n    console.log(\"ethBalanceStr\", ethBalanceStr);\n    console.log(\"selfBalanceStr\", selfBalanceStr);\n\n    // Make a clone of accountState.\n    let accountState = Object.assign({}, this.state.accountState);\n    accountState.ethBalanceBN = new BigNumber(ethBalanceStr);\n    accountState.selfBalanceBN = new BigNumber(selfBalanceStr);\n\n    // Update state with the result.\n    this.setState({ accountState });\n  };\n\n  setLangCode = (langCode) => {\n    strings.setLanguage(langCode);\n    this.setState({});\n  };\n\n  toggleBalances = () => {\n    this.setState({\n      isShowingBalances: !this.state.isShowingBalances,\n    });\n  };\n\n  render() {\n    const {\n      address,\n      isMerchantAddress,\n      accountState,\n      isAllDataFetched,\n      isShowingBalances,\n    } = this.state;\n    const { selfBalanceBN, ethBalanceBN } = accountState;\n\n    let content = null;\n    if (!isAllDataFetched) {\n      content = <Spinner/>;\n    } else if (isMerchantAddress) {\n      content = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-5\">\n            <div className=\"mb-3\">\n              <DoubleBorderTitle paddingType=\"narrow\">{ strings.Store }</DoubleBorderTitle>\n              <div className=\"text-center\">\n                <div onClick={ this.toggleBalances }>\n                  <AddressName address={ address } />\n                </div>\n                {\n                  isShowingBalances &&\n                  <MerchantBalances\n                    strings={strings}\n                    selfBalanceBN={ selfBalanceBN }\n                    ethBalanceBN={ ethBalanceBN }\n                  />\n                }\n              </div>\n            </div>\n\n            <div className=\"mb-3\">\n              <DoubleBorderTitle paddingType=\"narrow\">{ strings.Receive_SELF }</DoubleBorderTitle>\n              <MerchantReceiveToken\n                accounts={ [address] }\n                strings={ strings }\n              />\n            </div>\n          </div>\n\n          <div className=\"col-md-7\">\n            <DoubleBorderTitle paddingType=\"narrow\">{ strings.Orders }</DoubleBorderTitle>\n            <Iframe\n              url={ \"https://api.selftoken.co/orders.html?theme=dark&to=\" + address }\n              position=\"relative\"\n              width=\"100%\"\n              height=\"calc(100vh - 15rem)\"\n              className=\"orders-iframe\"\n            />\n          </div>\n        </div>\n      </div>;\n    } else {\n      content = <div className=\"container\">\n        <div className=\"alert alert-danger\">\n        { strings.Invalid_Merchant_Address }\n        </div>\n      </div>\n    }\n\n    const navbar = <div className=\"app-navbar mb-3 clearfix\">\n      <div className=\"float-left\">\n        <div className=\"app-title\">SELF DAPP - Merchant</div>\n      </div>\n      <div className=\"float-right\">\n        <LanguageSelector strings={strings} setLangCode={this.setLangCode} />\n      </div>\n    </div>;\n\n    const app = <div className=\"App\">\n      <div className=\"bg\">\n        <div className=\"line\"></div>\n      </div>\n      { navbar }\n      { content }\n    </div>;\n\n    return app;\n  }\n}\n\nexport default MerchantApp;\n","import Web3 from \"web3\";\n\nconst getWeb3 = () =>\n  new Promise((resolve, reject) => {\n    // Wait for loading completion to avoid race conditions with web3 injection timing.\n    window.addEventListener(\"load\", async () => {\n      console.log(\"!!window.ethereum\", !!window.ethereum);\n      console.log(\"!!window.web3\", !!window.web3);\n\n      // Modern dapp browsers...\n      if (window.ethereum) {\n        console.log(\"Injected window.ethereum detected.\");\n        const web3 = new Web3(window.ethereum);\n        try {\n          // Request account access if needed\n          await window.ethereum.enable();\n          // Acccounts now exposed\n          resolve(web3);\n        } catch (error) {\n          reject(error);\n        }\n      }\n      // Legacy dapp browsers...\n      else if (window.web3) {\n        console.log(\"Injected window.web3 detected.\");\n        // const web3 = window.web3;\n        const web3 = new Web3(window.web3.currentProvider);\n        resolve(web3);\n      }\n      // Fallback to localhost; use dev console port by default...\n      else {\n        console.log(\"No window.ethereum or window.web3 injected.\");\n        // const provider = new Web3.providers.HttpProvider(\n        //   \"https://rinkeby.infura.io\"\n        // );\n        // const web3 = new Web3(provider);\n        const web3 = null;\n        resolve(web3);\n      }\n    });\n  });\n\nexport default getWeb3;\n","import React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport BigNumber from 'utils/BigNumber';\nimport { weiToRoundedEtherStr, weiToEtherStr } from 'utils/numUtils';\n\nimport selftokenIconCrop from \"assets/img/selftoken_transparent_crop.png\";\n\n\nclass Balances extends Component {\n  render() {\n    const { strings, ethBalanceBN, selfBalanceBN } = this.props;\n\n    const roundedEthBalanceStr = weiToRoundedEtherStr(ethBalanceBN, 4);\n    const roundedSelfBalanceStr = weiToRoundedEtherStr(selfBalanceBN, 2);\n    const ethBalanceStr = weiToEtherStr(ethBalanceBN);\n    const selfBalanceStr = weiToEtherStr(selfBalanceBN);\n\n    // icon floats left and text floats right when screen width <= 767px\n    // icon and text in the same line when screen width >= 768px\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 text-center mb-2\">\n          <div className=\"h3 balance-container\">\n            <span className=\"h2 mb-0 mr-3 balance-icon-container\">\n              <i className=\"fab fa-ethereum\"></i>\n            </span>\n            <span className=\"balance-text-container\" title={ `${ethBalanceStr} ETH` }>\n              { roundedEthBalanceStr } { strings.EN_ETH }\n            </span>\n          </div>\n        </div>\n        <div className=\"col-md-6 text-center mb-2\">\n          <div className=\"h3 balance-container\">\n            <span className=\"h2 mb-0 mr-3 balance-icon-container\">\n              <img\n                src={selftokenIconCrop}\n                alt=\"self-token-icon\"\n                style={{height: \"1em\"}}\n              />\n            </span>\n            <span className=\"balance-text-container\"  title={ `${selfBalanceStr} SELF` }>\n              { roundedSelfBalanceStr } { strings.EN_SELF }\n            </span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nBalances.propTypes = {\n  strings: PropTypes.object,\n  selfBalanceBN: PropTypes.object,\n  ethBalanceBN: PropTypes.object,\n};\n\nBalances.defaultProps = {\n  strings: {},\n  selfBalanceBN: new BigNumber(0),\n  ethBalanceBN: new BigNumber(0),\n};\n\nexport default Balances;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport NumericInput from 'react-numeric-input';\nimport copy from 'copy-to-clipboard';\n\nimport QrcodeImg from 'components/QrcodeImg.js';\nimport AddressName from 'components/AddressName.js';\n\n\nclass ReceiveToken extends Component {\n  state = {\n    baseUrl: \"https://dapp.selftoken.co/#/\",\n    isAmountChecked: true,\n    amount: 100, // SELF\n    isUrlCopiedMsgShown: false,\n    isAddressCopiedMsgShown: false,\n  }\n\n  componentDidMount = () => {\n    const baseUrl = window.location.origin + \"/#/\";\n    this.setState({\n      baseUrl\n    });\n  }\n\n  handleInputChange = (event) => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleAmountChange = (value) => {\n    this.setState({\n      amount: value,\n    });\n  }\n\n  handleCopyUrl = () => {\n    copy(this.computeUrl());\n\n    // show \"copied\" message\n    this.setState({\n      isUrlCopiedMsgShown: true,\n    });\n\n    // hide \"copied\" message after a few seconds\n    setTimeout(() => {\n      this.setState({\n        isUrlCopiedMsgShown: false,\n      });\n    }, 2000);\n  }\n\n  handleCopyAddress = () => {\n    const { accounts } = this.props;\n    if (accounts.length === 0) {\n      return;\n    }\n\n    copy(accounts[0]);\n\n    this.setState({\n      isAddressCopiedMsgShown: true,\n    });\n    setTimeout(() => {\n      this.setState({\n        isAddressCopiedMsgShown: false,\n      });\n    }, 2000);\n  }\n\n  computeUrl = () => {\n    const { accounts } = this.props;\n\n    if (accounts.length === 0) {\n      return \"\";\n    }\n\n    const { baseUrl, isAmountChecked, amount } = this.state;\n\n    return baseUrl + \"transfer?\"\n    + \"to=\" + accounts[0]\n    + ( (isAmountChecked && !!amount) ? (\"&self=\" + amount.toString()) : \"\" );\n  }\n\n  render() {\n    const { strings, accounts } = this.props;\n\n    if (accounts.length === 0) {\n      return <div>\n        <div className=\"alert alert-danger\">{ strings.msg_no_account }</div>\n      </div>;\n    }\n\n    const { isAmountChecked, amount } = this.state;\n    const selfDappUrl = this.computeUrl();\n\n    return (\n      <div className=\"text-center\">\n        <div className=\"mb-4\">\n          <label>\n            { strings.My_Wallet_Address }\n          </label>\n          <input\n            type=\"text\"\n            className=\"address-input address-text text-muted\"\n            value={ accounts[0] }\n            onChange={ () => {} }\n          />\n          <AddressName address={ accounts[0] } />\n        </div>\n\n        <div className=\"mb-5\">\n          <input\n            type=\"checkbox\"\n            name=\"isAmountChecked\"\n            checked={ isAmountChecked }\n            onChange={ this.handleInputChange }\n            className=\"form-check-input\"\n          />\n          <label htmlFor=\"amountCheckbox\">\n            { strings.Receive_Amount } ({ strings.EN_SELF })\n          </label>\n          { isAmountChecked &&\n            <NumericInput\n              id=\"receiveAmountInput\"\n              type=\"number\"\n              pattern=\"[\\d\\.]*\"\n              mobile\n              className=\"numeric-input\"\n              min={0}\n              step={10}\n              value={ amount }\n              onChange={this.handleAmountChange}\n            />\n          }\n        </div>\n\n        <div className=\"mb-4\">\n          <h4>{ strings.The_Payer_Pay_with_SELF_DAPP }</h4>\n          <div className=\"mb-1\">\n            <div>{ strings.msg_please_scan_with_any_qr_code_scanner_1 }</div>\n            <div>{ strings.msg_please_scan_with_any_qr_code_scanner_2 }</div>\n          </div>\n          <div className=\"mb-1\">\n            <QrcodeImg text={ selfDappUrl } width={ 320 } margin={ 2 } />\n          </div>\n          <div className=\"mb-1 font-condensed word-wrap-break-word text-white\">{ selfDappUrl }</div>\n          <button className=\"solid-rectangle-button bg-golden\" onClick={this.handleCopyUrl}>\n            <span>{ strings.Copy_URL }</span>\n          </button>\n          { this.state.isUrlCopiedMsgShown &&\n            <span className=\"copied-msg\">{ strings.msg_copied }</span>\n          }\n        </div>\n\n        <div className=\"mb-4\">\n          <h4>{ strings.The_Payer_Pay_with_Any_Wallet }</h4>\n          <div className=\"mb-1\">\n            <div>\n              <span>{ strings.msg_please_send_self_1 }</span>\n              <span className=\"text-white\"> { isAmountChecked ? amount : '' } SELF </span>\n              <span>{ strings.msg_please_send_self_2 }</span>\n            </div>\n          </div>\n          <div className=\"mb-1\">\n            <QrcodeImg text={ accounts[0] } width={ 320 } margin={ 2 } />\n          </div>\n          <div className=\"mb-1 font-condensed word-wrap-break-word text-white\">{ accounts[0] }</div>\n          <button className=\"solid-rectangle-button bg-golden\" onClick={this.handleCopyAddress}>\n            <span>{ strings.Copy_Address }</span>\n          </button>\n          { this.state.isAddressCopiedMsgShown &&\n            <span className=\"copied-msg\">{ strings.msg_copied }</span>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nReceiveToken.propTypes = {\n  accounts: PropTypes.array,\n  strings: PropTypes.object,\n};\n\nReceiveToken.defaultProps = {\n  accounts: [],\n  strings: {},\n};\n\nexport default ReceiveToken;\n","import React, { Component } from \"react\";\nimport LocalizedStrings from 'react-localization';\nimport copy from 'copy-to-clipboard';\nimport { Switch, Route, Link } from 'react-router-dom';\n\nimport SelfTokenJSON from \"contracts/SelfToken.json\";\nimport DelegatedTransferOperatorJSON from \"contracts/DelegatedTransferOperatorV5.json\";\nimport getWeb3 from \"utils/getWeb3\";\nimport BigNumber from 'utils/BigNumber';\n\nimport \"styles/AddressInput.css\";\nimport \"styles/NumericInput.css\";\nimport \"App.css\";\n\nimport { Spinner } from \"components/Spinner.js\";\nimport DoubleBorderTitle from \"components/DoubleBorderTitle.js\";\nimport Balances from \"components/Balances.js\";\nimport DelegatedTransferForm from \"components/DelegatedTransferForm.js\";\nimport LanguageSelector from \"components/LanguageSelector.js\";\nimport ReceiveToken from \"components/ReceiveToken.js\";\nimport PleaseOpenInDappBrowser from \"components/PleaseOpenInDappBrowser.js\";\n\nimport trustWalletIconSquare from \"assets/img/trust_wallet_icon_square.png\";\n\nimport localesData from 'data/locales.json';\n\n\nlet strings = new LocalizedStrings(localesData);\n\nfunction generateDeepLinkToTrustWallet() {\n  return \"https://link.trustwallet.com/open_url?coin_id=60&url=\" + encodeURIComponent(window.location.href);\n  // return \"https://links.trustwalletapp.com/a/key_live_lfvIpVeI9TFWxPCqwU8rZnogFqhnzs4D?&event=openURL&url=\" + encodeURIComponent(window.location.href);\n}\n\nclass TabButton extends Component {\n  render() {\n    const { className, isActive, children } = this.props;\n\n    return (\n      <div className={[\n        className,\n        \"tab-button\",\n        (isActive) ? \"tab-button-active\" : \"tab-button-inactive\"\n      ].join(' ')}>\n        { children }\n      </div>\n    );\n  }\n}\n\nclass App extends Component {\n  state = {\n    web3: null,\n    networkId: -1,\n    selfTokenContract: null,\n    accounts: [],\n    accountState: {\n      ethBalanceBN: new BigNumber(0),\n      selfBalanceBN: new BigNumber(0),\n    },\n    globalState: {\n      totalSupplyBN: new BigNumber(0),\n    },\n    isAllDataFetched: false,\n    isUrlCopiedMsgShown: false,\n    deepLinkToTrustWallet: generateDeepLinkToTrustWallet(),\n    pollIntervalId: -1,\n  };\n\n  componentDidMount = async () => {\n    try {\n      console.log(\"App this.props\", this.props);\n\n      this.setState({\n        deepLinkToTrustWallet: generateDeepLinkToTrustWallet(),\n      });\n\n      // Get network provider and web3 instance.\n      const web3 = await getWeb3();\n\n      this.setState({\n        web3,\n      });\n\n      if (!web3) {\n        this.setState({\n          isAllDataFetched: true,\n        });\n        return;\n      }\n\n      // Get the networkId and check if on valid network.\n      const networkId = await web3.eth.net.getId(); // Number\n      const isValidNetwork = SelfTokenJSON.networks.hasOwnProperty(networkId); // bool\n      console.log(\"networkId\", networkId);\n\n      this.setState({\n        networkId,\n        isValidNetwork,\n      });\n\n      // If not on valid network, stop here.\n      if (!isValidNetwork) {\n        this.setState({\n          isAllDataFetched: true,\n        });\n        return;\n      }\n\n      // Init contract instance.\n      const selfTokenContract = new web3.eth.Contract(\n        SelfTokenJSON.abi,\n        SelfTokenJSON.networks[networkId].address\n      );\n\n      const delegatedTransferOperator = new web3.eth.Contract(\n        DelegatedTransferOperatorJSON.abi,\n        DelegatedTransferOperatorJSON.networks[networkId].address\n      );\n\n      this.setState({\n        selfTokenContract,\n        delegatedTransferOperator,\n      }, () => {\n        // fetch global state\n        this.fetchGlobalState();\n      });\n\n      // Use web3 to get the user's accounts.\n      const accounts = await web3.eth.getAccounts();\n      console.log(\"accounts\", accounts);\n\n      await this.setState({\n        accounts\n      });\n\n      const pollIntervalId = setInterval(() => {\n        this.poll();\n      }, 10000);\n      this.setState({ pollIntervalId });\n      await this.poll();\n\n      this.setState({\n        isAllDataFetched: true,\n      });\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      // Should never go here.\n      alert(\n        `Failed to load web3, accounts, or contract. Check console for details.`\n      );\n      console.error(error);\n    }\n  };\n\n  // called when props changed, not called when componentDidMount\n  componentWillReceiveProps = () => {\n    this.setState({\n      deepLinkToTrustWallet: generateDeepLinkToTrustWallet(),\n    });\n  }\n\n  componentWillUnmount = () => {\n    const { pollIntervalId } = this.state;\n    if (pollIntervalId !== -1) {\n      clearInterval(pollIntervalId);\n    }\n  }\n\n  poll = async () => {\n    console.log(\"poll\");\n\n    // this.fetchGlobalState();\n    this.fetchAccountState();\n  }\n\n  fetchGlobalState = async () => {\n    console.log(\"fetchGlobalState\");\n\n    const { selfTokenContract } = this.state;\n\n    // If contract is not ready, return.\n    if (!selfTokenContract) {\n      return;\n    }\n\n    // Get total supply\n    const totalSupplyStr = await selfTokenContract.methods.totalSupply().call();\n    const totalSupplyBN = new BigNumber(totalSupplyStr);\n\n    // Make a clone of globalState.\n    const globalState = Object.assign({}, this.state.globalState);\n    globalState.totalSupplyBN = totalSupplyBN\n\n    // Update state with the result.\n    this.setState({ globalState });\n  };\n\n  fetchAccountState = async () => {\n    console.log(\"fetchAccountState\");\n\n    const { web3, accounts, selfTokenContract } = this.state;\n\n    // If there are no accounts injected, return.\n    if (accounts.length === 0) {\n      return;\n    }\n\n    // promises\n    const getEthBalance = web3.eth.getBalance(accounts[0]);\n    const getSelfBalance = selfTokenContract.methods.balanceOf(accounts[0]).call();\n    const values = await Promise.all([getEthBalance, getSelfBalance]);\n    const ethBalanceStr = values[0];\n    const selfBalanceStr = values[1];\n    console.log(\"ethBalanceStr\", ethBalanceStr);\n    console.log(\"selfBalanceStr\", selfBalanceStr);\n\n\n    // Make a clone of accountState.\n    let accountState = Object.assign({}, this.state.accountState);\n    accountState.ethBalanceBN = new BigNumber(ethBalanceStr);\n    accountState.selfBalanceBN = new BigNumber(selfBalanceStr);\n\n    // Update state with the result.\n    this.setState({ accountState });\n  };\n\n  setLangCode = (langCode) => {\n    strings.setLanguage(langCode);\n    this.setState({});\n  };\n\n  copyUrl = () => {\n    copy(window.location.href);\n\n    // show \"copied\" message\n    this.setState({\n      isUrlCopiedMsgShown: true,\n    })\n\n    // hide \"copied\" message after a few seconds\n    setTimeout(() => {\n      this.setState({\n        isUrlCopiedMsgShown: false,\n      });\n    }, 2000);\n  };\n\n  render() {\n    const {\n      location,\n    } = this.props;\n\n    const {\n      web3,\n      isValidNetwork,\n      accounts,\n      accountState,\n      delegatedTransferOperator,\n      networkId,\n      isUrlCopiedMsgShown,\n      isAllDataFetched,\n      deepLinkToTrustWallet,\n    } = this.state;\n\n    const { selfBalanceBN, ethBalanceBN } = accountState;\n\n    const content = ((!isAllDataFetched) ?\n      <Spinner/> :\n      <div>\n        {/* navbar */}\n        <div className=\"app-navbar mb-3 clearfix\">\n          <div className=\"float-left\">\n            <div className=\"app-title\">SELF DAPP</div>\n          </div>\n          <div className=\"float-right\">\n            <LanguageSelector strings={strings} setLangCode={this.setLangCode} />\n          </div>\n        </div>\n\n        <div className=\"container\">\n          {/* warning messages */}\n          <div>\n            {/* No web3 */}\n            { !web3 &&\n              <div className=\"alert alert-danger\">\n                <PleaseOpenInDappBrowser\n                  strings={ strings }\n                />\n                <div className=\"mb-1\">\n                  <span>1. </span>\n                  <span>{ strings.msg_if_trust_wallet_installed }</span>\n                  <div className=\"text-center\">\n                    <a href={ deepLinkToTrustWallet } target=\"_blank\" rel=\"noopener noreferrer\">\n                      <button className=\"solid-rectangle-button bg-trust-wallet-blue\">\n                        <span className=\"mr-2\">\n                          <img\n                            src={ trustWalletIconSquare }\n                            alt=\"trust-wallet-icon\"\n                            className=\"trust-wallet-icon\"\n                          />\n                        </span>\n                        <span>{ strings.msg_open_in_trust_wallet }</span>\n                      </button>\n                    </a>\n                  </div>\n                </div>\n                <div>\n                  <span>2. </span>\n                  <span>{ strings.msg_if_other_dapp_browser }</span>\n                  <div className=\"text-center\">\n                    <button onClick={ this.copyUrl } className=\"solid-rectangle-button bg-golden\">\n                      <span>{ strings.msg_copy_url }</span>\n                    </button>\n                    { isUrlCopiedMsgShown &&\n                      <span className=\"copied-msg\">{ strings.msg_copied }</span>\n                    }\n                  </div>\n                  <span>{ strings.msg_and_paste_in_other_dapp_browser }</span>\n                </div>\n              </div>\n            }\n\n            {/* Not on valid network */}\n            { !!web3 && !isValidNetwork &&\n              <div className=\"alert alert-danger\">\n                <div>{ strings.msg_invalid_network }</div>\n                <div>{ strings.msg_please_switch_to_mainnet }</div>\n              </div>\n            }\n\n            {/* Show warning message if the user or the developer is on testnet. */}\n            {(isValidNetwork && networkId !== 1) && (<div>\n              <div className=\"alert alert-warning\">\n                <div>{ strings.msg_on_testnet }</div>\n                <div>{ strings.msg_please_switch_to_mainnet }</div>\n              </div>\n            </div>)}\n          </div>\n\n          <div className=\"mb-5\">\n            <DoubleBorderTitle>{ strings.Balances }</DoubleBorderTitle>\n            <div className=\"narrow-container\">\n              <Balances\n                strings={strings}\n                selfBalanceBN={ selfBalanceBN }\n                ethBalanceBN={ ethBalanceBN }\n              />\n            </div>\n          </div>\n\n          <div className=\"tab-list mb-5\">\n            <Link to=\"/transfer\">\n              <Switch>\n                <Route exact path=\"/receive\" render={ props => (\n                  <TabButton className=\"w-50\">\n                    { strings.Transfer_SELF }\n                  </TabButton>\n                )} />\n                <Route render={ props => (\n                  <TabButton className=\"w-50\" isActive>\n                    { strings.Transfer_SELF }\n                  </TabButton>\n                )} />\n              </Switch>\n            </Link>\n            <Link to=\"/receive\">\n              <Switch>\n                <Route exact path=\"/receive\" render={ props => (\n                  <TabButton className=\"w-50\" isActive>\n                    { strings.Receive_SELF }\n                  </TabButton>\n                )} />\n                <Route render={ props => (\n                  <TabButton className=\"w-50\">\n                    { strings.Receive_SELF }\n                  </TabButton>\n                )} />\n              </Switch>\n            </Link>\n          </div>\n\n          <Switch>\n            {/* path matches \"/receive\" */}\n            <Route exact path=\"/receive\" render={ props => (\n              <div className=\"narrow-container mb-3\" key=\"receive_self\">\n                {/* <DoubleBorderTitle>{ strings.Receive_SELF }</DoubleBorderTitle> */}\n                <ReceiveToken\n                  accounts={accounts}\n                  strings={strings}\n                />\n              </div>\n            )} />\n            {/* path doesn't match \"/receive\" */}\n            <Route render={ props => (\n              <div className=\"narrow-container mb-3\" key=\"transfer_self\">\n                {/* <DoubleBorderTitle>{ strings.Transfer_SELF_without_ETH }</DoubleBorderTitle> */}\n                <DelegatedTransferForm\n                  web3={web3}\n                  accounts={accounts}\n                  delegatedTransferOperator={delegatedTransferOperator}\n                  networkId={networkId}\n                  strings={strings}\n                  selfBalanceBN={ selfBalanceBN }\n                  location={ location }\n                  // callback={ this.fetchAccountState }\n                />\n              </div>\n            )} />\n          </Switch>\n\n        </div>\n      </div>\n    );\n\n    return (\n      <div className=\"App\">\n        <div className=\"bg\">\n          <div className=\"line\"></div>\n        </div>\n        { content }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport './index.css';\nimport './custom.scss';\nimport MerchantApp from 'components/merchant/MerchantApp';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\n// overwrite console.log\nif (\n  window.location.hostname === 'test.selftoken.co' ||\n  window.location.hostname === 'testdapp.selftoken.co' ||\n  window.location.hostname.startsWith('192.168')\n) {\n  var logger = document.createElement('div');\n  logger.style.cssText = \"color: white;\";\n  document.body.appendChild(logger);\n\n  // show logs in html\n  console.log = (...messages) => {\n    for (const message of messages) {\n      if (typeof message == 'object') {\n        try {\n          logger.innerHTML += (JSON && JSON.stringify ? JSON.stringify(message) : message) + '<br />';\n        } catch (error) {\n          console.log(\"error when console.log object\");\n          console.error(error);\n        }\n      } else {\n          logger.innerHTML += message.toString() + '<br />';\n      }\n    }\n  }\n} else if (\n  window.location.hostname === 'localhost' ||\n  window.location.hostname === '127.0.0.1'\n) {\n\n} else {\n  // console.log will not work in production\n  console.log = () => {};\n}\n\nReactDOM.render(\n  <Router>\n    <Switch>\n      <Route exact path=\"/merchant/:address\" component={MerchantApp}/>\n      <Route component={App}/>\n    </Switch>\n  </Router>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { Component } from \"react\";\n\nimport styles from \"styles/Spinner.module.css\";\n\nclass Spinner extends Component {\n  render() {\n    return <div className={ styles.spinner }></div>;\n  }\n}\n\n// cover the whole screen with a colored div, and render spinner in it\nclass SpinnerCover extends Component {\n  render() {\n    return <div className={ styles[\"spinner-cover-container\"] }>\n      <div className={ styles[\"spinner-cover-background\"] }>\n        <div className={ styles.spinner }></div>\n      </div>\n    </div>;\n  }\n}\n\nexport {\n  Spinner,\n  SpinnerCover,\n};\n","// bn.js is what web3.utils.BN actually is\n// but bn.js only handles integers, so we use bignumber.js for more behaviors\nimport { BigNumber } from 'bignumber.js'; // not web3.utils.BN in 1.0.0-beta.34\n\n\nconst fmt = {\n  prefix: '',\n  decimalSeparator: '.',\n  groupSeparator: ',',\n  groupSize: 3,\n  secondaryGroupSize: 0,\n  fractionGroupSeparator: ' ',\n  fractionGroupSize: 0,\n  suffix: ''\n}\nBigNumber.config({ FORMAT: fmt });\nBigNumber.config({ EXPONENTIAL_AT: 1e+9 });\n\nexport default BigNumber;\n","import React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\n\nimport merchants from 'data/merchants.json';\n\n\nclass AddressName extends Component {\n  render() {\n    const address = this.props.address.toLowerCase();\n\n    if (merchants.hasOwnProperty(address)) {\n      const img = ((!!merchants[address].img) ?\n        <img className=\"address-name-logo mr-2\" src={ './img/merchants/' + merchants[address].img } alt=\"merchant logo\" /> :\n        null\n      );\n      // const logo = require(imgPath);\n      return <div className=\"h4 font-weight-light mt-2 text-white\">\n        { img }\n        <span>{ merchants[address].name }</span>\n      </div>\n    }\n    return null;\n  }\n}\n\nAddressName.propTypes = {\n  address: PropTypes.string,\n};\n\nAddressName.defaultProps = {\n  address: '0x0000000000000000000000000000000000000000',\n};\n\nexport default AddressName;\n","import merchants from 'data/merchants.json';\n\n\nconst checkIsMerchant = (address) => {\n  return merchants.hasOwnProperty( address.toLowerCase() );\n};\n\nexport default checkIsMerchant;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__KCoow\",\"spinner-cover-container\":\"Spinner_spinner-cover-container__R_-Zx\",\"spinner-cover-background\":\"Spinner_spinner-cover-background__rgJx7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"doubleBorder\":\"DoubleBorderTitle_doubleBorder__1x_9g\",\"normalPadding\":\"DoubleBorderTitle_normalPadding__1-aoQ\",\"narrowPadding\":\"DoubleBorderTitle_narrowPadding__2TJQ1\",\"doubleBorderTitle\":\"DoubleBorderTitle_doubleBorderTitle__1RtIo\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAAC5CAMAAAA4V6yiAAADAFBMVEVHcEz//wDatiTIozbNoTHLojPLozPLojPLozPLozPLozPLpDPKpDTKpDTKpDTKozTKpDTLozPLozPKpDTKpDTJpDXJozXJpDXGqji/nz+qqlXOqjDIojbKpDTMozPKozTKpDTKpDTLpDPLozPKpDTKozTKpDTKpDTKozTLpDTLozPKozTKozTLpDPLozPLozPLozPKozTMozPNojH/fwDMpTPIojbLozPLozPLpDPKozTLpDPKpDTLozPLozPMozLJoTXQoi7Pny/NpjHMpTPKozTLpDPLpTPMpTPEnDrJnzXMozPLpDPLpDPKozTKozTKozTKpTTMmTPKojTLpDPLpDPGqjjGoDjKozTKozTLpDPKozTKozTMojPMozPLozPKozTKpDTLozPLpDO/vz/JojXLozPLozPLozPKozTHpzfKozTLpDPKozTKozTKpDTMpDPKpDTLpDPLpDPMpDPKojTKpDTMqjPLpTPKpDTKpDTLpDPKpDTKozTLozPJozXKozTKozTKpTTLpDPKpTTMpTLKozTMpTPLpDPMpzPLozPLpDPLozPJoTXLpDPKpDTKozTLpDPLpDPKpjTHpjfIozbMozPLozPMpDPKozTKozTMozPMozPNpjHMmTPKpDTJozXKpTTMpDPKozTLpDPLpDPKozTKozTKpTTKpDTLozPSpS3LpDPMpDLLozPLozPKpTTKpzTKozTKpDTLozPKpDTMozPLozPUqirJpDXLozPLpDPUqirMpTPKozTMoTPKpDTLpDPKozTLpDPMojPNpDHLpDPKojTKpDTLpDPJoTXJpjXKozTKozTQoi7KpDTLozPJpDXKpDTKpDTKpDTKozTKpDTMojLKozTLpDPNpTLHpTfKozTLozPLozPKpDTMpDPKpDTKozTKpDTKozTKozTLozPLpDPKpDTLojPLpDPLpDPKozTKpDTJpTXIozbKpDTKojTKpDTLozPLpTPLpDPLpDPLpDPLozPLpDPJpTXKozTMozLKpDTKozTLozM9okZsAAABAHRSTlMAAQcOKUVUbIufrby6x9vRvbuaf2tgUTASCAMVIUl4kbTN1d/p8PX6/v/77uXe2tSGcEYkAhQvpMbk+OPIqG09JgsQLlXcxUooDRhLy/Lq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\"","import React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\n\nclass PleaseOpenInDappBrowser extends Component {\n  render() {\n    const { strings } = this.props;\n\n    return <div>\n      <span>{ strings.msg_please_open_in_dapp_browser_1 }</span>\n      <span><a href=\"https://eps2.app.link/?&event=newToken&contract=0x67ab11058ef23d0a19178f61a050d3c38f81ae21\" target=\"_blank\" rel=\"noopener noreferrer\">{ strings.EN_Trust_Wallet }</a></span>\n      <span>{ strings.msg_please_open_in_dapp_browser_2 }</span>\n      <span><a href=\"https://metamask.io/\" target=\"_blank\" rel=\"noopener noreferrer\">{ strings.EN_MetaMask }</a></span>\n      <span>{ strings.msg_please_open_in_dapp_browser_3 }</span>\n    </div>\n  }\n}\n\nPleaseOpenInDappBrowser.propTypes = {\n  strings: PropTypes.object,\n};\n\nPleaseOpenInDappBrowser.defaultProps = {\n  strings: {},\n};\n\nexport default PleaseOpenInDappBrowser;\n"],"sourceRoot":""}