(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAAC5CAMAAAA4V6yiAAADAFBMVEVHcEz//wDatiTIozbNoTHLojPLozPLojPLozPLozPLozPLpDPKpDTKpDTKpDTKozTKpDTLozPLozPKpDTKpDTJpDXJozXJpDXGqji/nz+qqlXOqjDIojbKpDTMozPKozTKpDTKpDTLpDPLozPKpDTKozTKpDTKpDTKozTLpDTLozPKozTKozTLpDPLozPLozPLozPKozTMozPNojH/fwDMpTPIojbLozPLozPLpDPKozTLpDPKpDTLozPLozPMozLJoTXQoi7Pny/NpjHMpTPKozTLpDPLpTPMpTPEnDrJnzXMozPLpDPLpDPKozTKozTKozTKpTTMmTPKojTLpDPLpDPGqjjGoDjKozTKozTLpDPKozTKozTMojPMozPLozPKozTKpDTLozPLpDO/vz/JojXLozPLozPLozPKozTHpzfKozTLpDPKozTKozTKpDTMpDPKpDTLpDPLpDPMpDPKojTKpDTMqjPLpTPKpDTKpDTLpDPKpDTKozTLozPJozXKozTKozTKpTTLpDPKpTTMpTLKozTMpTPLpDPMpzPLozPLpDPLozPJoTXLpDPKpDTKozTLpDPLpDPKpjTHpjfIozbMozPLozPMpDPKozTKozTMozPMozPNpjHMmTPKpDTJozXKpTTMpDPKozTLpDPLpDPKozTKozTKpTTKpDTLozPSpS3LpDPMpDLLozPLozPKpTTKpzTKozTKpDTLozPKpDTMozPLozPUqirJpDXLozPLpDPUqirMpTPKozTMoTPKpDTLpDPKozTLpDPMojPNpDHLpDPKojTKpDTLpDPJoTXJpjXKozTKozTQoi7KpDTLozPJpDXKpDTKpDTKpDTKozTKpDTMojLKozTLpDPNpTLHpTfKozTLozPLozPKpDTMpDPKpDTKozTKpDTKozTKozTLozPLpDPKpDTLojPLpDPLpDPKozTKpDTJpTXIozbKpDTKojTKpDTLozPLpTPLpDPLpDPLpDPLozPLpDPJpTXKozTMozLKpDTKozTLozM9okZsAAABAHRSTlMAAQcOKUVUbIufrby6x9vRvbuaf2tgUTASCAMVIUl4kbTN1d/p8PX6/v/77uXe2tSGcEYkAhQvpMbk+OPIqG09JgsQLlXcxUooDRhLy/Lq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"},129:function(e,t,a){e.exports={spinner:"Spinner_spinner__KCoow"}},134:function(e,t,a){e.exports=a(338)},139:function(e,t,a){},196:function(e,t){},198:function(e,t){},232:function(e,t){},233:function(e,t){},309:function(e,t,a){},311:function(e,t,a){},313:function(e,t,a){},338:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(125),r=a.n(s),p=a(340),i=a(341),u=(a(139),a(10)),c=a.n(u),l=a(19),d=a(21),m=a(22),y=a(25),b=a(23),f=a(26),w=a(126),h=a(15),v=a(51),g=a(68),T=a(127),D=a.n(T),P=function(){return new Promise(function(e,t){window.addEventListener("load",Object(l.a)(c.a.mark(function a(){var n,o;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.ethereum){a.next=13;break}return n=new D.a(window.ethereum),a.prev=2,a.next=5,window.ethereum.enable();case 5:e(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),t(a.t0);case 11:a.next=14;break;case 13:window.web3?(o=window.web3,console.log("Injected web3 detected."),e(o)):(console.log("No web3 instance injected."),e(null));case 14:case"end":return a.stop()}},a,this,[[2,8]])})))})},z=(a(307),a(309),a(311),a(313),a(128)),K=a.n(z),M=a(129),A=a.n(M),L=function(e){function t(){return Object(d.a)(this,t),Object(y.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:A.a.spinner})}}]),t}(n.Component),x=a(69),S=a.n(x),k=function(e){function t(){return Object(d.a)(this,t),Object(y.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.children;return o.a.createElement("div",{className:t},o.a.createElement("span",{className:[S.a.doubleBorder,S.a.doubleBorderTitle].join(" ")},a,o.a.createElement("span",null),o.a.createElement("span",null),o.a.createElement("span",null),o.a.createElement("span",null)))}}]),t}(n.Component);k.defaultProps={className:"mb-3"};var N=k,E=a(130),O=a.n(E),B=function(e){if("string"!==typeof e)throw new Error("in sig2vrs, signature must be type 'string', is currently type "+typeof e+".");var t="0x"===e.slice(0,2)?e.slice(2):e;if(130!==t.length)throw new Error("sig length not 130 or 132 in sig2vrs");return{v:"0x"+t.slice(128,130),r:"0x"+t.slice(0,64),s:"0x"+t.slice(64,128)}},j=a(131),I=a.n(j);var F=function(e,t,a,n){I.a.post(e,t).then(function(e){return 0===e.data.code?!a||a(e.data.data):n?n(e):(alert(e.data.message),!1)}).catch(function(e){return n?n(e):(alert(e),!1)})},_=function(e){if("string"!==typeof e)throw new Error("Error in hexToEvenLengthHex, hexStr must be type 'string', is currently type "+typeof e+".");var t="0x"===e.slice(0,2)?e.slice(2):e;return t.length%2===0?"0x"+t:"0x0"+t},R=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).state={delegate:"0xe8A098f3643Fd62C05A659F6b75f48562003b900",recipient:"",amount:100,fee:new h.BigNumber(0),orderId:null,isDisabled:!1,delegatedTransfer_api_url:"https://test.selftoken.co/v1/delegatedTransfer"},a.componentDidMount=function(){var e=a.props,t=e.queryParams,n=e.web3;if(console.log("DelegatedTransferForm queryParams",t),t.to&&(n.utils.isAddress(t.to)?(console.log("DelegatedTransferForm: queryParams.to correctly parsed"),a.setState({recipient:t.to})):console.warn("DelegatedTransferForm: queryParams.to is provided but not an address")),t.self){var o=parseFloat(t.self);isNaN(o)?console.warn("DelegatedTransferForm: queryParams.amount is provided but parseFloat returns NaN."):(console.log("DelegatedTransferForm: amount parsed, get",o),a.setState({amount:o}))}"localhost"===window.location.hostname||window.location.hostname,a.setState({isDisabled:!1})},a.handleAmountChange=function(e){a.setState({amount:e})},a.handleRecipientChange=function(e){a.setState({recipient:e.target.value})},a.handleOrderIdChange=function(e){a.setState({orderId:e})},a.handleDelegatedTransferFormSubmit=function(){var e=Object(l.a)(c.a.mark(function e(t){var n,o,s,r,p,i,u,l,d,m,y,b,f,w,v,g,T,D,P,z,K,M,A,L,x,S,k,N,E,O;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.props,o=n.web3,s=n.accounts,r=n.delegatedTransferOperator,p=n.networkId,i=n.callback,u=a.state,l=u.recipient,d=u.amount,m=u.delegate,y=u.fee,b=u.isDisabled,f=u.delegatedTransfer_api_url,w=u.orderId,!b){e.next=5;break}return e.abrupt("return");case 5:if(0!==s.length){e.next=8;break}return alert("No account injected form dapp browser.\nPlease unlock your account in MetaMask or the DApp browser."),e.abrupt("return");case 8:if(console.log("recipient",l),console.log("amount",d,typeof d),o.utils.isAddress(l)){e.next=13;break}return alert("The recipient address is not valid."),e.abrupt("return");case 13:return v=new h.BigNumber(d),g=v.times(1e18),T=r._address,D=l,P=m,z=g,K=y,M=Math.floor(Date.now()/1e3),L="number"===typeof(A=w)?_(o.utils.numberToHex(A)):"0x",console.log("_operator",T),console.log("_to",D),console.log("_delegate",P),console.log("_value.toString()",z.toString()),console.log("_fee.toString()",K.toString()),console.log("_nonce.toString()",M.toString()),console.log("_userData",L),x=o.utils.soliditySha3({t:"address",v:T},{t:"address",v:D},{t:"address",v:P},{t:"uint256",v:z.toString()},{t:"uint256",v:K.toString()},{t:"uint256",v:M.toString()},{t:"bytes",v:L}),console.log("delegationHash",x),e.next=34,o.eth.sign(x,s[0]);case 34:if(S=e.sent,k=B(S),27===(N=parseInt(k.v))||28===N){e.next=39;break}throw new Error("_vrs.v not 27 or 28");case 39:1,E=r.methods.transferPreSigned(D,P,z,K,M,L,k.r,k.s,k.v).encodeABI(),console.log("tx_data",E),O={networkId:p,version:1,delegatedTransferOperatorAddress:r._address,tx_data:E},F(f,O,function(e){console.log("order",e),alert("\u4ea4\u6613\u5df2\u767c\u9001\uff01\n\u4ea4\u6613\u7de8\u865f\uff1a"+e._id),i()},function(e){console.error("error",e)});case 44:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.handleDelegatedTransferFormSubmit,id:"transfer-form",className:"transfer-form narrow-container"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"delegatedTransferRecipientInput"},"Recipient"),o.a.createElement("input",{type:"text",className:" address-input address-text",id:"delegatedTransferRecipientInput",value:this.state.recipient,onChange:this.handleRecipientChange,placeholder:"0x0000000000000000000000000000000000000000"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"text-center mb-3"},o.a.createElement("label",{htmlFor:"transferAmount"},"Token Amount (SELF)"),o.a.createElement(O.a,{id:"transferAmount",type:"number",pattern:"\\d*",mobile:!0,className:"numeric-input",min:0,step:10,value:this.state.amount,onChange:this.handleAmountChange}))),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{type:"submit",className:"solid-rectangle-button"},o.a.createElement("span",null,"Transfer"))))}}]),t}(n.Component);R.defaultProps={web3:{},accounts:[],delegatedTransferOperator:{},networkId:1,callback:function(){}};var C=R;"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||(console.log=function(){});function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e.div(1e18).toFormat(t).replace(/\.0+$/,"")}h.BigNumber.config({FORMAT:{prefix:"",decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0,suffix:""}});var U=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).state={web3:null,networkId:-1,selfTokenContract:null,accounts:null,accountState:{ethBalanceBN:new h.BigNumber(0),selfBalanceBN:new h.BigNumber(0)},globalState:{totalSupplyBN:new h.BigNumber(0)},queryParams:{},isAllDataFetched:!1},a.componentDidMount=Object(l.a)(c.a.mark(function e(){var t,n,o,s,r,p,i,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("this.props",a.props),console.log("window.location",window.location),t=a.props.location.search,n=w.parse(t),a.setState({queryParams:n}),e.next=8,P();case 8:if(o=e.sent){e.next=12;break}return a.setState({isAllDataFetched:!0}),e.abrupt("return");case 12:return e.next=14,o.eth.net.getId();case 14:if(s=e.sent,r=v.networks.hasOwnProperty(s),console.log("networkId",s),a.setState({web3:o,networkId:s,isValidNetwork:r}),r){e.next=21;break}return a.setState({isAllDataFetched:!0}),e.abrupt("return");case 21:return p=new o.eth.Contract(v.abi,v.networks[s].address),i=new o.eth.Contract(g.abi,g.networks[s].address),a.setState({selfTokenContract:p,delegatedTransferOperator:i},function(){a.fetchGlobalState()}),e.next=26,o.eth.getAccounts();case 26:return u=e.sent,e.next=29,a.setState({accounts:u},function(){});case 29:return setInterval(function(){a.poll()},1e4),e.next=32,a.poll();case 32:a.setState({isAllDataFetched:!0}),e.next=39;break;case 35:e.prev=35,e.t0=e.catch(0),alert("Failed to load web3, accounts, or contract. Check console for details."),console.error(e.t0);case 39:case"end":return e.stop()}},e,this,[[0,35]])})),a.poll=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("poll"),a.fetchAccountState();case 2:case"end":return e.stop()}},e,this)})),a.fetchGlobalState=Object(l.a)(c.a.mark(function e(){var t,n,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("fetchGlobalState"),t=a.state.selfTokenContract){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.methods.totalSupply().call();case 6:n=e.sent,o=new h.BigNumber(n),(s=Object.assign({},a.state.globalState)).totalSupplyBN=o,a.setState({globalState:s});case 11:case"end":return e.stop()}},e,this)})),a.fetchAccountState=Object(l.a)(c.a.mark(function e(){var t,n,o,s,r,p,i,u,l,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("fetchAccountState"),t=a.state,n=t.web3,o=t.accounts,s=t.selfTokenContract,0!==o.length){e.next=4;break}return e.abrupt("return");case 4:return r=n.eth.getBalance(o[0]),p=s.methods.balanceOf(o[0]).call(),e.next=8,Promise.all([r,p]);case 8:i=e.sent,u=i[0],l=i[1],console.log("ethBalanceStr",u),console.log("selfBalanceStr",l),(d=Object.assign({},a.state.accountState)).ethBalanceBN=new h.BigNumber(u),d.selfBalanceBN=new h.BigNumber(l),a.setState({accountState:d});case 17:case"end":return e.stop()}},e,this)})),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.web3,a=e.accounts,n=e.delegatedTransferOperator,s=e.networkId,r=e.queryParams;return this.state.isAllDataFetched?o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"container"},!this.state.web3&&o.a.createElement("div",{className:"alert alert-danger"},o.a.createElement("div",null,"No web3 detected. Please open this website in a dapp browser or a browser with MetaMask."),o.a.createElement("div",null,window.location.href)),!!this.state.web3&&!this.state.isValidNetwork&&o.a.createElement("div",{className:"alert alert-danger"},"Not on a valid Ethereum network. Please switch to mainnet in MetaMask or your dapp browser."),this.state.isValidNetwork&&1!==this.state.networkId&&o.a.createElement("div",null,o.a.createElement("div",{className:"alert alert-warning"},"You are on testnet. Please switch to Mainnet in MetaMask or your dapp browser.")),o.a.createElement("div",{className:"mb-4"}),o.a.createElement(N,null,"Balances"),o.a.createElement("div",{className:"row mb-4 narrow-container"},o.a.createElement("div",{className:"col-md-6 text-center mb-2"},o.a.createElement("div",{className:"h3 balance-container"},o.a.createElement("span",{className:"h2 mb-0 mr-3 balance-icon-container"},o.a.createElement("i",{className:"fab fa-ethereum"})),o.a.createElement("span",{className:"balance-text-container"},q(this.state.accountState.ethBalanceBN,4)," ETH"))),o.a.createElement("div",{className:"col-md-6"},o.a.createElement("div",{className:"h3 balance-container text-center"},o.a.createElement("span",{className:"h2 mb-0 mr-3 balance-icon-container"},o.a.createElement("img",{alt:"self-token-icon",className:"",style:{height:"1em"},src:K.a})),o.a.createElement("span",{className:"balance-text-container"},q(this.state.accountState.selfBalanceBN,2)," SELF")))),o.a.createElement(N,null,"Transfer SELF without ETH"),o.a.createElement("div",{className:"text-center mb-5"},o.a.createElement(C,{web3:t,accounts:a,delegatedTransferOperator:n,networkId:s,queryParams:r,callback:this.fetchAccountState})))):o.a.createElement(L,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(p.a,null,o.a.createElement(i.a,{path:"/",component:U})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},51:function(e){e.exports={contractName:"SelfToken",abi:[{constant:!0,inputs:[],name:"defaultOperators",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_amount",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_tokenHolder",type:"address"},{name:"_spender",type:"address"},{name:"_amount",type:"uint256"}],name:"operatorApprove",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_operator",type:"address"}],name:"addOfficialOperator",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"freezeMyAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_recipients",type:"address[]"},{name:"_amounts",type:"uint256[]"},{name:"_userData",type:"bytes"}],name:"batchSend",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_account",type:"address"}],name:"unfreeze",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transferFromFrozenAccount",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"claimOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"granularity",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"rejectAllOfficialOperators",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_amount",type:"uint256"},{name:"_userData",type:"bytes"},{name:"_operatorData",type:"bytes"}],name:"operatorSend",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_tokenHolder",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"frozenAccounts",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_recipients",type:"address[]"},{name:"_amounts",type:"uint256[]"}],name:"batchTransfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_account",type:"address"}],name:"freeze",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_tokenHolder",type:"address"},{name:"_amount",type:"uint256"},{name:"_operatorData",type:"bytes"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_operator",type:"address"}],name:"authorizeOperator",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"},{name:"_userData",type:"bytes"}],name:"send",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_operator",type:"address"}],name:"isOfficialOperator",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"acceptAllOfficialOperators",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_operator",type:"address"}],name:"removeOfficialOperator",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupplyCap",outputs:[{name:"_totalSupplyCap",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_operator",type:"address"},{name:"_tokenHolder",type:"address"}],name:"isOperatorFor",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_user",type:"address"}],name:"isUserAcceptingAllOfficialOperators",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"pendingOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_recipients",type:"address[]"},{name:"_amounts",type:"uint256[]"},{name:"_userData",type:"bytes"},{name:"_operatorData",type:"bytes"}],name:"operatorBatchSend",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_operator",type:"address"}],name:"revokeOperator",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_tokenHolder",type:"address"},{name:"_amount",type:"uint256"},{name:"_holderData",type:"bytes"},{name:"_operatorData",type:"bytes"}],name:"operatorBurn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_amount",type:"uint256"},{name:"_holderData",type:"bytes"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"operator",type:"address"}],name:"OfficialOperatorAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"operator",type:"address"}],name:"OfficialOperatorRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"user",type:"address"}],name:"OfficialOperatorsAcceptedByUser",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"user",type:"address"}],name:"OfficialOperatorsRejectedByUser",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_account",type:"address"}],name:"AccountFrozen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_account",type:"address"}],name:"AccountUnfrozen",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"}],name:"OwnershipRenounced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"holderData",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Sent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Minted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"holderData",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Burned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"tokenHolder",type:"address"}],name:"AuthorizedOperator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"tokenHolder",type:"address"}],name:"RevokedOperator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Approval",type:"event"}],compiler:{name:"solc",version:"0.4.25+commit.59dbf8f1.Emscripten.clang"},networks:{1:{name:"Mainnet",events:{},links:{},address:"0x67ab11058eF23D0a19178f61A050D3c38F81Ae21",transactionHash:"0xc0feba7db1c12949a7a7eff17a7bd97b4b828e4b9f75955de66fc4bd99be853b"},4:{name:"Rinkeby",events:{},links:{},address:"0xC5dA9446dA045e3c50561b6633D47Bb0532977b5",transactionHash:"0x2690931207bef2ea7140bfaf73e3852e43405e4e6ab0a68b3627c68b57b3d1e6"}},updatedAt:"2018-12-11T07:44:16.919Z"}},68:function(e){e.exports={contractName:"DelegatedTransferOperatorV4",abi:[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_delegate",type:"address"},{name:"_value",type:"uint256"},{name:"_fee",type:"uint256"},{name:"_nonce",type:"uint256"},{name:"_userData",type:"bytes"},{name:"_sig_r",type:"bytes32"},{name:"_sig_s",type:"bytes32"},{name:"_sig_v",type:"uint8"}],name:"transferPreSigned",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_tokenAddress",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!0,inputs:[{name:"hash",type:"bytes32"},{name:"sig",type:"bytes"}],name:"recover",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"tokenContract",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_operator",type:"address"},{name:"_to",type:"address"},{name:"_delegate",type:"address"},{name:"_value",type:"uint256"},{name:"_fee",type:"uint256"},{name:"_nonce",type:"uint256"},{name:"_userData",type:"bytes"}],name:"transferPreSignedHashing",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"usedNonce",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],compiler:{name:"solc",version:"0.4.24+commit.e67f0147.Emscripten.clang"},networks:{1:{name:"Mainnet",events:{},links:{},address:"0x3850F1A8104fBDbEa60B16FB1323cD3974031990",transactionHash:"0x90aafa974bd50ff3a6e36c3c5794e1ab091a0970f7d9cb5c74dad84339e0b0e9"},4:{name:"Rinkeby",events:{},links:{},address:"0x8e8e1d4b81f68f4646d22796a9c8e998696daff8",transactionHash:""}}}},69:function(e,t,a){e.exports={doubleBorder:"DoubleBorderTitle_doubleBorder__1x_9g",doubleBorderTitle:"DoubleBorderTitle_doubleBorderTitle__1RtIo"}}},[[134,2,1]]]);
//# sourceMappingURL=main.fea48434.chunk.js.map